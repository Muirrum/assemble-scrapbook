generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Accounts {
  email                   String   @unique(map: "Accounts.email_unique")
  username                String    @unique(map: "Accounts.username_unique")
  cssURL                  String?
  website                 String?
  github                  String?
  pronouns                String?
  updates                 Updates[]
  tokens                  Token[]
}

model Updates {
  id               String           @id @default(cuid())
  postTime         DateTime?        @default(now())
  text             String?
  attachments      String[]
  muxAssetIDs      String[]
  muxPlaybackIDs   String[]
  muxAssetStatuses String?
  backupAssetID    String?
  backupPlaybackID String?
  isLargeVideo     Boolean?
  Accounts         Accounts?        @relation(fields: [accountsSlackID], references: [slackID])
}

model Token {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  userEmail String
  user      Accounts     @relation(fields: [userEmail], references: [email])
}
